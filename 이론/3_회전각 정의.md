# 회전각 정의

## A. 위치, 방위, 계

### 1. 기준 좌표계

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/86a50770-e8ad-40b8-87df-d93f88b86151/image.png)

### 2. 단위 벡터

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/f70dad2c-cae3-4e54-9169-8e98354a6d12/image.png)

- 설명 : 단위 벡터는 방향을 나타내는 데 사용되며, 벡터의 크기는 항상 1임
- 표기법 :
    - $\hat{X}_A$ : $X_A$방향으로의 단위 벡터
    - $\hat{Y}_A$ : $Y_A$방향으로의 단위 벡터
    - $\hat{Z}_A$ : $Z_A$방향으로의 단위 벡터

### 3. 위치(*Position*)의 표시

- 위치 벡터 : 일단 좌표계가 정의되면 우주상의 어떤 점도 3x1의 벡터로 위치 표현 가능
- 좌표계 정의 → 단위 벡터 존재 → 이들 단위 벡터로 나타낸 점의 위치

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/cd795e63-104c-4c11-902d-aa4a08a78678/image.png)

### 4. 방위(*Orientation*)의 표시

- 공간 상의 한 점의 위치를 표시할 뿐만 아니라, 공간상의 방위(*orientation*)를 표시해야 하는 경우가 있음
- 아래 그림의 벡터 $^AP$가 매니퓰레이터 손가락 끝 사이에 있는 한 점을 나타내지만, 매니퓰레이터가 가리키는 방향에 대한 정보는 없음
- 한 물체의 방위를 표시하기 위해서는 그 물체에 좌표계를 부착하고, 그 후에 기준 좌표(*reference system*)에 대하여 상대적인 표시를 함
- 좌표계 {$B$}의 주축들을 나타내는 단위 벡터로 $\hat{X}_B, \hat{Y}_B, \hat{Z}_B$를 사용
- 좌표계 {$A$}의 방법으로 나타낼 때는 $^A\hat{X}_B, ^A\hat{Y}_B, ^A\hat{Z}_B$라고 표현
- 회전 행렬(*rotation matrix*)
    - {$B$}의 {$A$}에 기준한 방위 표시, $^A_BR$으로 표현
- 회전 행렬을 곱해서 좌표를 얻는다고 하면, 3x3 행렬로 배열할 수 있음
- $^A_BR = [^A\hat{X}_B\,\,\,\,\ ^A\hat{Y}_B \,\,\,\,\ ^A\hat{Z}_B] = \begin{bmatrix} r_{11}&r_{12}&r_{13}\\r_{21} &r_{22}&r_{23}\\r_{31}&r_{32}&r_{33}\end{bmatrix}$

### 5. 계(*frame*)의 표시

- 매니퓰레이션의 손이 어디에 있는가를 완벽하게 명시하는데 필요한 정보는?
    - 위치(*Position*)와 방위(*Orientation*)
    - $\{B\} = \{^A_BR,\,\,\\^AP_{BORG}\}$

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/e3b18b2f-e25f-4e1f-adcf-bcc1db504107/image.png)

### 6. 매핑

- 한 계에서 다른 계로 표시를 바꿈

1. 위치만 변한 계의 매핑
    - 아래 그림에 벡터 $^BP$로 정의된 점을 $^AP$로 나타내보자
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/ed763a8c-8780-4ca8-9248-e1d6fd0eac4b/image.png)
        
        - $\{A\}$는 $\{B\}$와 동일한 방위를 갖고 있음
        - $\{B\}$는 $\{A\}$와 전위(*translation*)만 다름
        - 이 전위는 $\{A\}$의 원점에서 $\{B\}$의 원점의 위치를 나타내는 벡터인  $^AP_{BORG}$로 나타낸다

1. 회전된 계를 포함하는 매핑
    - 아래 그림에 벡터 $^BP$로 정의된 점을 $^AP$로 나타내보자
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/3744e27a-bc15-464a-be59-616c674b140a/image.png)
        
        - $^AP$를 계산하기 위해서는 벡터의 각 성분을 $A$계의 단위 방향으로 투영
        - 투영 값은 벡터 내적으로 계산 가능
        - 내적 값은 스칼라고, 그 방향으로의 길이와 같음
            - $^AP_x = ^B\hat{X}_A \,\dot\,\ ^BP$
            - $^AP_y = ^B\hat{Y}_A \,\dot\,\ ^BP$
            - $^AP_z = ^B\hat{Z}_A \,\dot\,\ ^BP$
        - 위의 식을 회전행렬의 곱 형태로 표현하기 위해 $^A_BR$의 행이 $^A\hat{X}_B,\,\\^A\hat{Y}_B,\,\\^A\hat{Z}_B$임을 활용
            - $^AP = ^A_BR^BP$

1. 일반적인 계를 포함하는 매핑
    - 아래 그림에 벡터 $^BP$로 정의된 점을 $^AP$로 나타내보자
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/2e5f412c-89dd-4f00-8531-fdbc92cb5696/image.png)
    

### 7. 균질 변환(homogeneous transform)

- 일반적인 변환의 회전과 전위를 1개의 행렬 행식으로 나타내는 구성
- $^AP = ^A_BT\,\,\\^BP$
- $\begin{bmatrix}^AP\\1\end{bmatrix} = \begin{bmatrix}&^A_BR&&&^AP_{BORG}\\0&0&0&&1\end{bmatrix}\begin{bmatrix}^BP\\1\end{bmatrix}$

---

## B. 연산자

### 1. 전위 연산자

- 전위 : 공간의 한 점을 주어진 벡터 방향으로 일정한 거리만큼 움직이는 것

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/c3ccd082-a407-40be-8ba1-597d697af895/image.png)

### 2. 회전 연산자

- 회전 $R$에 의하여 $^AP_1$을 새로운 벡터 $^AP_2$로 변환시키는 연산자
    - $^AP_2 = R^AP_1$
- $'R_K(\theta)'$는 $\hat{K}$축 주위로 $\theta$만큼 회전을 수행하는 회전 연산자임
    - $^AP_2 = R_K(\theta)^AP_1$
- 예를 들어 $\hat{Z}$축 주위로 $\theta$만큼 회전하는 연산자는
    - $R_Z(\theta)=\begin{bmatrix}cos\theta&-sin(\theta)&0&0\\sin(\theta)&cos(\theta)&0&0\\0&0&1&0\\0&0&0&1\end{bmatrix}$

### 3. 변환 연산자

- 계는 변환 연산자(transformation operation)이라는 또 다른 해석을 갖고 있음
- $^AP_2=T\,\\^AP_1$
- $R$만큼 회전하고 $Q$만큼 전위하는 변화는 기준계(*reference system*)에 대하여 $R$만큼 회전하고 $Q$만큼 전위하는 계를 표시하는 변환과 동일

### 4. 복합 전환

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/f0d09fab-f760-445a-969a-74459f3b88cd/be9919c1-141b-4b40-9ec8-463bab8b46ca/image.png)

- 위 그림에서 $^CP$를 알고 $^AP$를 구하기를 원할 때, 계$\{C\}$는 계$\{B\}$에 기준하여 알고, 계$\{B\}$는 계$\{A\}$에 기준하여 알고 있다
- 따라서 결합법칙으로 $^AP$를 구할 수 있다
    - $^BP=^B_CP\,\,\,\\^CP$
    - $^AP=^A_BT\,\\^B_CT\,\,\,\\^CP$
    - $^A_CT=^A_BT\,\,\\^B_CT$
    - $^A_CT=\begin{bmatrix}&^A_BR^B_CR&&^A_BR^BP_{CORG}+^AP_{BORG}\\0&0&0&1\end{bmatrix}$